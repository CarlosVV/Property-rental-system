<!DOCTYPE html>
<html ng-app="RentalApp">
<head>
<meta charset="UTF-8">
<title ng-bind="pageTitle"></title>
<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css">
<link rel="stylesheet" href="../bower_components/angular-bootstrap-datetimepicker/src/css/datetimepicker.css">
<link rel="stylesheet" href="css/styles.css">
<!-- For my own implementation of datepicker directive -->
<link rel="stylesheet" href="../bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.css">
<script src="../bower_components/jquery/dist/jquery.js"></script>

<script src="http://code.highcharts.com/stock/highstock.src.js"></script>

<script type="text/javascript" src="../bower_components/lodash/lodash.js"></script>
<script type="text/javascript" src="../bower_components/moment/moment.js"></script>
<script type="text/javascript" src="../bower_components/bootstrap/dist/js/bootstrap.js"></script>
<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>
<script type="text/javascript" src="../bower_components/angular/angular.js"></script>
<script type="text/javascript" src="../bower_components/angular-ui-router/release/angular-ui-router.js"></script>
<script type="text/javascript" src="../bower_components/angular-resource/angular-resource.js"></script>
<script type="text/javascript" src="../bower_components/angular-google-maps/dist/angular-google-maps.js"></script>
<script type="text/javascript" src="../bower_components/angular-bootstrap-datetimepicker/src/js/datetimepicker.js"></script>
<script type="text/javascript" src="../bower_components/ngAutocomplete/src/ngAutocomplete.js"></script>
<script type="text/javascript" src="../bower_components/ng-file-upload/angular-file-upload-shim.js"></script>
<script type="text/javascript" src="../bower_components/ng-file-upload/angular-file-upload.js"></script>

<script type="text/javascript" src="../bower_components/highcharts-ng/dist/highcharts-ng.js"></script>
<!-- For my own implementation of datepicker directive -->
<script type="text/javascript" src="../bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.js"></script>
<!-- Angularjs bootstrap directives -->
<script type="text/javascript" src="../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>

<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/services.js"></script>
<script type="text/javascript" src="js/directives.js"></script>
<script type="text/javascript" src="js/filters.js"></script>
<script type="text/javascript" src="modules/home/home.js"></script>
<script type="text/javascript" src="modules/addProperty/addProperty.js"></script>
<script type="text/javascript" src="modules/security/login.js"></script>
<script type="text/javascript" src="modules/security/register.js"></script>
<script type="text/javascript" src="modules/security/logout.js"></script>
<script type="text/javascript" src="modules/searchProperties/searchProperties.js"></script>
<script type="text/javascript" src="modules/myBookings/myBookings.js"></script>
<script type="text/javascript" src="modules/showProperty/showProperty.js"></script>
<script type="text/javascript" src="modules/conversations/conversations.js"></script>
<script type="text/javascript" src="modules/conversations/chat.js"></script>
<script type="text/javascript" src="modules/myProperties/myProperties.js"></script>
<script type="text/javascript" src="modules/myProperties/myProperty.js"></script>
<script type="text/javascript" src="modules/myProperties/myPropertyStatistics.js"></script>
<script type="text/javascript" src="modules/myProperties/myPropertyBookings.js"></script>
<script type="text/javascript" src="modules/myProperties/updateProperty.js"></script>
<script type="text/javascript" src="modules/myProperties/myPropertyUnavailableDates.js"></script>

</head>
<body>
<nav class="navbar navbar-inverse navbar-static-top resetMarginPadding">
	<div class="container">
		<div class="navbar-header">
			<a ui-sref="home" class="navbar-brand">Property Rental System</a>
		</div>
		<div id="navbar" class="navbar-collapse collapse">
			<ul class="nav navbar-nav navbar-right">
				<li ng-show="isLoggedIn() && newMsgs.length">
					<div class="btn-group" style="margin-top:9px;">
						<button type="button" class="btn btn-default dropdown-toggle"
							data-toggle="dropdown" aria-expanded="false">
							<span class="glyphicon glyphicon-envelope"></span>
						</button>
						<ul class="dropdown-menu" role="menu">
							<li ng-repeat="msg in newMsgs">
								<a ui-sref="conversations.chat({bookingId : msg.bookingId,myBooking:true})">
									<strong>{{msg.senderUsername}}</strong> wrote you:<br/>
									{{msg.message | truncate : 40 : "Show more"}}
								</a>
								<hr/>
							</li>
						</ul>
					</div>
				</li>
				<li ng-show="isLoggedIn()"><a ui-sref="conversations.pleaseSelect">Conversations</a></li>
				<li ng-show="isLoggedIn()"><a ui-sref="showMyBookings">Show my bookings</a></li>
				<li ng-show="isLoggedIn()"><a ui-sref="showMyProperties.pleaseSelect">Show my props</a></li>
				<!-- <li ng-show="isLoggedIn()"><a ui-sref="updateProperty({propertyId:1})">Update prop 1</a></li> -->
				<li><a ui-sref="showProperty({propertyId:1})">Show prop 1</a></li>
				<li ng-show="isLoggedIn()"><a ui-sref="addProperty">Add property</a></li>
                <li ng-show="!isLoggedIn()"><a ui-sref="login">Login</a></li>
                <li ng-show="!isLoggedIn()"><a ui-sref="register">Register</a></li>
                <li ng-show="isLoggedIn()"><a href=''>Hi, {{currentUsername}}</a></li>
                <li ng-show="isLoggedIn()"><a ui-sref="logout">Log out</a></li>
            </ul>
		</div>
	</div>
</nav>

<div ui-view="mainView"></div>

</body>
</html>